<div>

JavaScript is disabled on your browser.

</div>

::: {role="banner"}
::: fixedNav
::: topNav
[]{#navbar.top}

::: skipNav
[Skip navigation links](#skip.navbar.top "Skip navigation links")
:::

[]{#navbar.top.firstrow}

-   [Overview](../../../../../index.html)
-   [Package](package-summary.html)
-   Class
-   [Tree](package-tree.html)
-   [Deprecated](../../../../../deprecated-list.html)
-   [Index](../../../../../index-all.html)
-   [Help](../../../../../help-doc.html)
:::

::: subNav
-   [All Classes](../../../../../allclasses.html)

```{=html}
<!-- -->
```
-   SEARCH:

<div>

<div>

JavaScript is disabled on your browser.

</div>

</div>

<div>

-   Summary: 
-   Nested \| 
-   [Field](#field.summary) \| 
-   [Constr](#constructor.summary) \| 
-   [Method](#method.summary)

```{=html}
<!-- -->
```
-   Detail: 
-   Field \| 
-   [Constr](#constructor.detail) \| 
-   [Method](#method.detail)

</div>

[]{#skip.navbar.top}
:::
:::

::: navPadding
 
:::
:::

::: {role="main"}
::: header
::: subTitle
[Package]{.packageLabelInType} [com.facebook.buck.features.js](package-summary.html)
:::

## Class JsBundleGenrule {#class-jsbundlegenrule .title title="Class JsBundleGenrule"}
:::

::: contentContainer
-   [java.lang.Object](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true "class or interface in java.lang"){.externalLink}

-   -   [com.facebook.buck.core.rules.impl.AbstractBuildRule](../../core/rules/impl/AbstractBuildRule.html "class in com.facebook.buck.core.rules.impl")

    -   -   [com.facebook.buck.rules.modern.ModernBuildRule](../../rules/modern/ModernBuildRule.html "class in com.facebook.buck.rules.modern")\<T\>

        -   -   [com.facebook.buck.shell.BaseGenrule](../../shell/BaseGenrule.html "class in com.facebook.buck.shell")\<com.facebook.buck.features.js.JsBundleGenrule.Buildable\>

            -   -   com.facebook.buck.features.js.JsBundleGenrule

::: description
-   

    All Implemented Interfaces:
    :   `AndroidPackageable`, `BuildEngineAction`, `HasOutputName`,
        `AllowsNonAnnotatedFields`, `HasMultipleOutputs`,
        `HasRuntimeDeps`, `SupportsInputBasedRuleKey`, `BuildRule`,
        `HasNameAndType`, `JsBundleOutputs`, `JsDependenciesOutputs`,
        `Comparable<BuildRule>`

    ------------------------------------------------------------------------

        public final class JsBundleGenrule
        extends BaseGenrule<com.facebook.buck.features.js.JsBundleGenrule.Buildable>
        implements AndroidPackageable, HasRuntimeDeps, JsBundleOutputs, JsDependenciesOutputs

    ::: block
    Genrule specialized for the creation of JS bundles. Functionally, it
    is mostly the same as any other genrule, except that it provides an
    additional set of environment variables and outputs suitable for
    production and consumption of JS bundles.
    JsBundleGenrule produces four outputs:

    -   1\) \"source-map\", the source map generated by the bundle for
        minified JavaScript files
    -   2\) \"misc\", a miscellanous folder of stuff (?)
    -   3\) \"deps-file\", a dependency file indicating which bundles
        this bundle depends on
    -   4\) \"js\", a folder containing the actual minified javascript.

    Bundles can rewrite the misc, source map, and deps file outputs with
    the `  rewriteSourcemap` `rewriteMisc`, and `rewriteDepsFile`
    arguments. Doing so causes this genrule to create these files and
    folders in the output directory; otherwise the outputs will be
    exported verbatim from the bundles that this bundle depends on.
    :::
:::

::: summary
-   ::: {.section role="region"}
    -   []{#field.summary}

        ### Field Summary

        -   []{#fields.inherited.from.class.com.facebook.buck.features.js.JsBundleOutputs}

            ### Fields inherited from interface com.facebook.buck.features.js.[JsBundleOutputs](JsBundleOutputs.html "interface in com.facebook.buck.features.js")

            `JS_DIR_NAME`
    :::

    ::: {.section role="region"}
    -   []{#constructor.summary}

        ### Constructor Summary

          Constructor                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Description
          ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------------
          `JsBundleGenrule​(BuildTarget buildTarget,                ProjectFilesystem projectFilesystem,                BuildRuleResolver resolver,                SandboxExecutionStrategy sandboxExecutionStrategy,                JsBundleGenruleDescriptionArg args,                Optional<Arg> cmd,                Optional<Arg> bash,                Optional<Arg> cmdExe,                Optional<String> environmentExpansionSeparator,                Optional<AndroidTools> androidTools,                JsBundleOutputs jsBundle,                JsDependenciesOutputs jsDependencies,                String bundleName)`    

          : Constructors[ ]{.tabEnd}
    :::

    ::: {.section role="region"}
    -   []{#method.summary}

        ### Method Summary

        +-----------------------+-----------------------+-----------------------+
        | Modifier and Type     | Method                | Description           |
        +=======================+=======================+=======================+
        | `void`                | `addToCollect         | ::: block             |
        |                       | or​(AndroidPackageable | Add concrete          |
        |                       | Collector collector)` | resources to the      |
        |                       |                       | given collector.      |
        |                       |                       | :::                   |
        +-----------------------+-----------------------+-----------------------+
        | `String`              | `getBundleName()`     |                       |
        +-----------------------+-----------------------+-----------------------+
        | `J                    | `getJsDependencie     |                       |
        | sDependenciesOutputs` | sOutputs​(ActionGraphB |                       |
        |                       | uilder graphBuilder)` |                       |
        +-----------------------+-----------------------+-----------------------+
        | `Iterable             | `getRequiredPac       | ::: block             |
        | <AndroidPackageable>` | kageables​(BuildRuleRe | Get the set of        |
        |                       | solver ruleResolver)` | packagables that need |
        |                       |                       | to be included in any |
        |                       |                       | package that includes |
        |                       |                       | this object.          |
        |                       |                       | :::                   |
        +-----------------------+-----------------------+-----------------------+
        | `java.util.stream     | `getRuntime           |                       |
        | .Stream<BuildTarget>` | Deps​(BuildRuleResolve |                       |
        |                       | r buildRuleResolver)` |                       |
        +-----------------------+-----------------------+-----------------------+
        | `SourcePath`          | `getSo                |                       |
        |                       | urcePathToDepsFile()` |                       |
        +-----------------------+-----------------------+-----------------------+
        | `SourcePath`          | `g                    |                       |
        |                       | etSourcePathToMisc()` |                       |
        +-----------------------+-----------------------+-----------------------+
        | `SourcePath`          | `get                  | ::: block             |
        |                       | SourcePathToOutput()` | Returns the output    |
        |                       |                       | defined in \'out\'.   |
        |                       |                       | :::                   |
        +-----------------------+-----------------------+-----------------------+
        | `SourcePath`          | `getSou               |                       |
        |                       | rcePathToResources()` |                       |
        +-----------------------+-----------------------+-----------------------+
        | `SourcePath`          | `getSou               |                       |
        |                       | rcePathToSourceMap()` |                       |
        +-----------------------+-----------------------+-----------------------+

        : [All Methods[ ]{.tabEnd}]{#t0 .activeTableTab}[[Instance
        Methods](javascript:show(2);)[ ]{.tabEnd}]{#t2
        .tableTab}[[Concrete
        Methods](javascript:show(8);)[ ]{.tabEnd}]{#t4 .tableTab}

        -   []{#methods.inherited.from.class.com.facebook.buck.shell.BaseGenrule}

            ### Methods inherited from class com.facebook.buck.shell.[BaseGenrule](../../shell/BaseGenrule.html "class in com.facebook.buck.shell")

            `getOutputLabels, getOutputName, getSourcePathToOutput, getType, isCacheable`

        ```{=html}
        <!-- -->
        ```
        -   []{#methods.inherited.from.class.com.facebook.buck.rules.modern.ModernBuildRule}

            ### Methods inherited from class com.facebook.buck.rules.modern.[ModernBuildRule](../../rules/modern/ModernBuildRule.html "class in com.facebook.buck.rules.modern")

            `compareTo, getBuildable, getBuildCellPathFactory, getBuildDeps, getBuildSteps, getOutputPathResolver, getSetupStepsForBuildable, getSourcePath, getSourcePaths, injectFieldsIfNecessary, inputBasedRuleKeyIsEnabled, recordOutputs, recordOutputs, recordOutputs, stepsForBuildable, stepsForBuildable, updateBuildRuleResolver`

        ```{=html}
        <!-- -->
        ```
        -   []{#methods.inherited.from.class.com.facebook.buck.core.rules.impl.AbstractBuildRule}

            ### Methods inherited from class com.facebook.buck.core.rules.impl.[AbstractBuildRule](../../core/rules/impl/AbstractBuildRule.html "class in com.facebook.buck.core.rules.impl")

            `equals, getBuildTarget, getDependencies, getProjectFilesystem, getSourcePathOutputs, hasBuildSteps, hashCode, injectFields, toString`

        ```{=html}
        <!-- -->
        ```
        -   []{#methods.inherited.from.class.java.lang.Object}

            ### Methods inherited from class java.lang.[Object](http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true "class or interface in java.lang"){.externalLink}

            `clone, finalize, getClass, notify, notifyAll, wait, wait, wait`

        ```{=html}
        <!-- -->
        ```
        -   []{#methods.inherited.from.class.com.facebook.buck.core.build.action.BuildEngineAction}

            ### Methods inherited from interface com.facebook.buck.core.build.action.[BuildEngineAction](../../core/build/action/BuildEngineAction.html "interface in com.facebook.buck.core.build.action")

            `getDependencies, getSourcePathOutputs`

        ```{=html}
        <!-- -->
        ```
        -   []{#methods.inherited.from.class.com.facebook.buck.core.rules.BuildRule}

            ### Methods inherited from interface com.facebook.buck.core.rules.[BuildRule](../../core/rules/BuildRule.html "interface in com.facebook.buck.core.rules")

            `compareTo, getBuildDeps, getBuildSteps, getBuildTarget, getFullyQualifiedName, getProjectFilesystem, hasBuildSteps, isCacheable, outputFileCanBeCopied, shouldRespectInputSizeLimitForRemoteExecution, toString, updateBuildRuleResolver`

        ```{=html}
        <!-- -->
        ```
        -   []{#methods.inherited.from.class.com.facebook.buck.core.rules.HasNameAndType}

            ### Methods inherited from interface com.facebook.buck.core.rules.[HasNameAndType](../../core/rules/HasNameAndType.html "interface in com.facebook.buck.core.rules")

            `getType`
    :::
:::

::: details
-   ::: {.section role="region"}
    -   []{#constructor.detail}

        ### Constructor Detail

        []{#<init>(com.facebook.buck.core.model.BuildTarget,com.facebook.buck.io.filesystem.ProjectFilesystem,com.facebook.buck.core.rules.BuildRuleResolver,com.facebook.buck.sandbox.SandboxExecutionStrategy,com.facebook.buck.features.js.JsBundleGenruleDescriptionArg,java.util.Optional,java.util.Optional,java.util.Optional,java.util.Optional,java.util.Optional,com.facebook.buck.features.js.JsBundleOutputs,com.facebook.buck.features.js.JsDependenciesOutputs,java.lang.String)}

        -   #### JsBundleGenrule

                public JsBundleGenrule​(BuildTarget buildTarget,
                                       ProjectFilesystem projectFilesystem,
                                       BuildRuleResolver resolver,
                                       SandboxExecutionStrategy sandboxExecutionStrategy,
                                       JsBundleGenruleDescriptionArg args,
                                       Optional<Arg> cmd,
                                       Optional<Arg> bash,
                                       Optional<Arg> cmdExe,
                                       Optional<String> environmentExpansionSeparator,
                                       Optional<AndroidTools> androidTools,
                                       JsBundleOutputs jsBundle,
                                       JsDependenciesOutputs jsDependencies,
                                       String bundleName)
    :::

    ::: {.section role="region"}
    -   []{#method.detail}

        ### Method Detail

        []{#getSourcePathToOutput()}

        -   #### getSourcePathToOutput

            ``` methodSignature
            public SourcePath getSourcePathToOutput()
            ```

            ::: block
            [Description copied from
            class: `BaseGenrule`]{.descfrmTypeLabel}
            :::

            ::: block
            Returns the output defined in \'out\'. Should not be used
            with multiple outputs. Use
            [`BaseGenrule.getSourcePathToOutput(OutputLabel)`](../../shell/BaseGenrule.html#getSourcePathToOutput(com.facebook.buck.core.model.OutputLabel))
            instead.
            :::

            [Specified by:]{.overrideSpecifyLabel}
            :   `getSourcePathToOutput` in interface `BuildRule`

            [Specified by:]{.overrideSpecifyLabel}
            :   `getSourcePathToOutput` in
                interface `HasMultipleOutputs`

            [Specified by:]{.overrideSpecifyLabel}
            :   `getSourcePathToOutput` in interface `JsBundleOutputs`

            [Overrides:]{.overrideSpecifyLabel}
            :   `getSourcePathToOutput` in
                class `BaseGenrule<com.facebook.buck.features.js.JsBundleGenrule.Buildable>`

            [Returns:]{.returnLabel}
            :   the
                [`SourcePath`](../../core/sourcepath/SourcePath.html "interface in com.facebook.buck.core.sourcepath")
                to the directory containing the built JavaScript.

        []{#getSourcePathToSourceMap()}

        -   #### getSourcePathToSourceMap

            ``` methodSignature
            public SourcePath getSourcePathToSourceMap()
            ```

            [Specified by:]{.overrideSpecifyLabel}
            :   `getSourcePathToSourceMap` in
                interface `JsBundleOutputs`

            [Returns:]{.returnLabel}
            :   a
                [`SourcePath`](../../core/sourcepath/SourcePath.html "interface in com.facebook.buck.core.sourcepath")
                to a source map belonging to the built JavaScript.
                Typically a single file.

        []{#getSourcePathToResources()}

        -   #### getSourcePathToResources

            ``` methodSignature
            public SourcePath getSourcePathToResources()
            ```

            [Specified by:]{.overrideSpecifyLabel}
            :   `getSourcePathToResources` in
                interface `JsBundleOutputs`

            [Returns:]{.returnLabel}
            :   the
                [`SourcePath`](../../core/sourcepath/SourcePath.html "interface in com.facebook.buck.core.sourcepath")
                to a directory containing the resources (or assets) used
                by the bundled JavaScript source code.

        []{#getSourcePathToMisc()}

        -   #### getSourcePathToMisc

            ``` methodSignature
            public SourcePath getSourcePathToMisc()
            ```

            [Specified by:]{.overrideSpecifyLabel}
            :   `getSourcePathToMisc` in interface `JsBundleOutputs`

            [Returns:]{.returnLabel}
            :   the
                [`SourcePath`](../../core/sourcepath/SourcePath.html "interface in com.facebook.buck.core.sourcepath")
                to a directory containing various metadata that can be
                used by dependent rules but are not meant to be shipped
                with the application.

        []{#getSourcePathToDepsFile()}

        -   #### getSourcePathToDepsFile

            ``` methodSignature
            public SourcePath getSourcePathToDepsFile()
            ```

            [Specified by:]{.overrideSpecifyLabel}
            :   `getSourcePathToDepsFile` in
                interface `JsDependenciesOutputs`

            [Returns:]{.returnLabel}
            :   a
                [`SourcePath`](../../core/sourcepath/SourcePath.html "interface in com.facebook.buck.core.sourcepath")
                to a dependencies graph file associated with a built
                JavaScript.

        []{#getRequiredPackageables(com.facebook.buck.core.rules.BuildRuleResolver)}

        -   #### getRequiredPackageables

            ``` methodSignature
            public Iterable<AndroidPackageable> getRequiredPackageables​(BuildRuleResolver ruleResolver)
            ```

            ::: block
            [Description copied from
            interface: `AndroidPackageable`]{.descfrmTypeLabel}
            :::

            ::: block
            Get the set of packagables that need to be included in any
            package that includes this object.
            For example, an android_library will need all of its Java
            deps (except provided_deps), its resource deps, and its
            native library deps (even though it doesn\'t need the native
            library as a build-time dependency). An android_resource
            might need an android_library that declares a custom view
            that it references, as well as other android_resource rules
            that it references directly.

            TODO(natthu): Once build rules and buildables are merged,
            replace this method with another interface that lets an
            [`AndroidPackageable`](../../android/packageable/AndroidPackageable.html "interface in com.facebook.buck.android.packageable")
            override the default set which is all deps of the type
            [`AndroidPackageable`](../../android/packageable/AndroidPackageable.html "interface in com.facebook.buck.android.packageable").
            :::

            [Specified by:]{.overrideSpecifyLabel}
            :   `getRequiredPackageables` in
                interface `AndroidPackageable`

            [Returns:]{.returnLabel}
            :   All
                [`AndroidPackageable`](../../android/packageable/AndroidPackageable.html "interface in com.facebook.buck.android.packageable")s
                that must be included along with this one.

        []{#addToCollector(com.facebook.buck.android.packageable.AndroidPackageableCollector)}

        -   #### addToCollector

            ``` methodSignature
            public void addToCollector​(AndroidPackageableCollector collector)
            ```

            ::: block
            [Description copied from
            interface: `AndroidPackageable`]{.descfrmTypeLabel}
            :::

            ::: block
            Add concrete resources to the given collector.
            Implementations should call methods on the collector specify
            what concrete content must be included in an Android package
            that includes this object. For example, an android_library
            will add Java classes, an ndk_library will add native
            libraries, and android_resource will add resource
            directories.
            :::

            [Specified by:]{.overrideSpecifyLabel}
            :   `addToCollector` in interface `AndroidPackageable`

            [Parameters:]{.paramLabel}
            :   `collector` - The
                [`AndroidPackageableCollector`](../../android/packageable/AndroidPackageableCollector.html "class in com.facebook.buck.android.packageable")
                that will receive the content.

        []{#getBundleName()}

        -   #### getBundleName

            ``` methodSignature
            public String getBundleName()
            ```

            [Specified by:]{.overrideSpecifyLabel}
            :   `getBundleName` in interface `JsBundleOutputs`

            [Returns:]{.returnLabel}
            :   the file name of the main JavaScript bundle file. This
                does not necessarily have to be the only JavaScript file
                written.

        []{#getRuntimeDeps(com.facebook.buck.core.rules.BuildRuleResolver)}

        -   #### getRuntimeDeps

            ``` methodSignature
            public java.util.stream.Stream<BuildTarget> getRuntimeDeps​(BuildRuleResolver buildRuleResolver)
            ```

            [Specified by:]{.overrideSpecifyLabel}
            :   `getRuntimeDeps` in interface `HasRuntimeDeps`

        []{#getJsDependenciesOutputs(com.facebook.buck.core.rules.ActionGraphBuilder)}

        -   #### getJsDependenciesOutputs

            ``` methodSignature
            public JsDependenciesOutputs getJsDependenciesOutputs​(ActionGraphBuilder graphBuilder)
            ```

            [Specified by:]{.overrideSpecifyLabel}
            :   `getJsDependenciesOutputs` in
                interface `JsBundleOutputs`

            [Returns:]{.returnLabel}
            :   the
                [`JsDependenciesOutputs`](JsDependenciesOutputs.html "interface in com.facebook.buck.features.js")
                rule which is responsible for building the dependencies
                file.
    :::
:::
:::
:::

::: bottomNav
[]{#navbar.bottom}

::: skipNav
[Skip navigation links](#skip.navbar.bottom "Skip navigation links")
:::

[]{#navbar.bottom.firstrow}

-   [Overview](../../../../../index.html)
-   [Package](package-summary.html)
-   Class
-   [Tree](package-tree.html)
-   [Deprecated](../../../../../deprecated-list.html)
-   [Index](../../../../../index-all.html)
-   [Help](../../../../../help-doc.html)
:::

::: subNav
-   [All Classes](../../../../../allclasses.html)

<div>

<div>

JavaScript is disabled on your browser.

</div>

</div>

<div>

-   Summary: 
-   Nested \| 
-   [Field](#field.summary) \| 
-   [Constr](#constructor.summary) \| 
-   [Method](#method.summary)

```{=html}
<!-- -->
```
-   Detail: 
-   Field \| 
-   [Constr](#constructor.detail) \| 
-   [Method](#method.detail)

</div>

[]{#skip.navbar.bottom}
:::
